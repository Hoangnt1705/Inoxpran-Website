# -----------------------------
# Server
# -----------------------------
NODE_ENV=development
HOST=127.0.0.1
PORT=3056
CORS_ORIGIN=http://127.0.0.1:5173
LOG_LEVEL=debug

# -----------------------------
# MongoDB
# -----------------------------
MONGODB_URI="mongodb+srv://tuanhoang1705_db_user:SSxy4hS7WFW0r23q@cluster0.9dtiksb.mongodb.net/"



# -----------------------------
# Auth (JWT)
# -----------------------------
JWT_SECRET=change_this_to_a_long_random_string

# -----------------------------
# Redis (cache + rate limit)
# -----------------------------
REDIS_URL=redis://127.0.0.1:6379
CACHE_TTL_SECONDS=60

# Optional: tune rate limits (used by rateLimit.js)
RATE_LIMIT_COMMON_POINTS=300
RATE_LIMIT_COMMON_DURATION=900     # 15min in seconds
RATE_LIMIT_COMMON_BLOCK=60         # 60s

RATE_LIMIT_STRICT_POINTS=30
RATE_LIMIT_STRICT_DURATION=900     # 15min
RATE_LIMIT_STRICT_BLOCK=300        # 5min

# -----------------------------
# Uploads (choose one provider)
# -----------------------------
UPLOAD_PROVIDER=firebase           # firebase | cloudinary | s3

## Firebase Storage (preferred for you)
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=service-account@your-project-id.iam.gserviceaccount.com
# Keep literal \n line breaks:
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nABC...\n-----END PRIVATE KEY-----\n"
FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com

## Cloudinary (if UPLOAD_PROVIDER=cloudinary)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

## AWS S3 (if UPLOAD_PROVIDER=s3)
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=

# -----------------------------
# Payments
# -----------------------------

## Stripe
STRIPE_SECRET=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

## VNPay (Sandbox defaults shown)
VNPAY_TMN_CODE=XXXX
VNPAY_HASH_SECRET=YYYY
VNPAY_PAYMENT_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
# Where backend redirects user after VNPay return (your frontend page):
VNPAY_RETURN_URL=http://127.0.0.1:5173/orders/return/vnpay

## MoMo (test environment)
MOMO_PARTNER_CODE=MOMOXXXX
MOMO_ACCESS_KEY=AAA
MOMO_SECRET_KEY=BBB
MOMO_ENDPOINT=https://test-payment.momo.vn/v2/gateway/api/create
# If you validate IPN signatures separately, keep a secret:
MOMO_IPN_SECRET=some_ipn_secret

# -----------------------------
# Optional Flags
# -----------------------------
# Allow image MIME types (comma-separated), used by upload service validation
UPLOAD_ALLOWED_MIME=image/jpeg,image/png,image/webp

# Toggle text index creation or other boot-time options
BOOTSTRAP_CREATE_INDEXES=true
